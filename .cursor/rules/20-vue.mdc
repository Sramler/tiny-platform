---
description: Vue 3 / TS ç¼–ç è§„èŒƒ
globs:
  - "**/*.vue"
  - "**/*.ts"
  - "**/*.tsx"
---

# 20 Vue 3 ç¼–ç è§„èŒƒ

## é€‚ç”¨èŒƒå›´

- é€‚ç”¨äºï¼š`**/*.vue`ã€`**/*.ts`ã€`**/*.tsx`

## ç¦æ­¢ï¼ˆMust Notï¼‰

- âŒ æ¨¡æ¿ä¸­å †å å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼ˆåº”ä¸‹æ²‰åˆ° composables/servicesï¼‰ã€‚
- âŒ æ··ç”¨ Options API ä¸ Composition APIï¼ˆé»˜è®¤ Composition APIï¼‰ã€‚

## å¿…é¡»ï¼ˆMustï¼‰

- âœ… `<script setup lang="ts">` ä¼˜å…ˆï¼›TypeScript ä¼˜å…ˆã€‚
- âœ… ç»„ä»¶å‘½å PascalCaseï¼›åŸºç¡€ç»„ä»¶ Base å‰ç¼€ï¼›å•ä¾‹ç»„ä»¶ The å‰ç¼€ã€‚
- âœ… å“åº”å¼ï¼š`ref/reactive`ï¼›æ´¾ç”Ÿ `computed`ï¼›å‰¯ä½œç”¨ `watch`ã€‚

## åº”è¯¥ï¼ˆShouldï¼‰

- âš ï¸ æ¨¡æ¿ï¼šç»„ä»¶ kebab-caseï¼›ç»‘å®š `:`ï¼›äº‹ä»¶ `@`ï¼›slot `#`ã€‚
- âš ï¸ æ€§èƒ½ï¼šåˆç†ä½¿ç”¨ `v-if/v-show`ï¼›å¤§æ¨¡å—å¼‚æ­¥åŠ è½½ï¼›é¿å…ä¸å¿…è¦çš„ watchã€‚

## å¯ä»¥ï¼ˆMayï¼‰

- ğŸ’¡ Pinia æŒ‰ä¸šåŠ¡åŸŸæ‹† storeï¼Œactions å¤„ç†å¼‚æ­¥ã€‚

## ä¾‹å¤–ä¸è£å†³

- ç¬¬ä¸‰æ–¹ç»„ä»¶åº“ï¼šéµå¾ªç»„ä»¶åº“çš„ API è§„èŒƒï¼ˆå¦‚ Ant Design Vueï¼‰ã€‚
- é—ç•™ä»£ç ï¼šé€æ­¥è¿ç§»åˆ° Composition APIï¼Œæ–°ä»£ç å¿…é¡»ä½¿ç”¨ Composition APIã€‚
- å†²çªæ—¶ï¼šå¹³å°ç‰¹å®šè§„åˆ™ï¼ˆ90+ï¼‰ä¼˜å…ˆäºæœ¬è§„èŒƒã€‚

## ç¤ºä¾‹

### âœ… æ­£ä¾‹

```vue
<script setup lang="ts">
import { ref, computed } from 'vue'
import { useUserStore } from '@/stores/user'

// å“åº”å¼æ•°æ®
const count = ref(0)
const userStore = useUserStore()

// è®¡ç®—å±æ€§
const doubleCount = computed(() => count.value * 2)

// æ–¹æ³•
const increment = () => {
  count.value++
}
</script>

<template>
  <div>
    <p>{{ doubleCount }}</p>
    <button @click="increment">å¢åŠ </button>
  </div>
</template>
```

### âŒ åä¾‹

```vue
<!-- é”™è¯¯ï¼šæ··ç”¨ Options API å’Œ Composition APIï¼Œæ¨¡æ¿ä¸­å †å é€»è¾‘ -->
<script>
export default {
  data() {
    return { count: 0 }
  },
  computed: {
    doubleCount() {
      return this.count * 2
    }
  },
  methods: {
    increment() {
      this.count++
    }
  }
}
</script>

<template>
  <div>
    <!-- âŒ æ¨¡æ¿ä¸­å †å å¤æ‚é€»è¾‘ -->
    <p>{{ count * 2 + userStore.user.id }}</p>
    <button @click="count++">å¢åŠ </button>
  </div>
</template>
```

